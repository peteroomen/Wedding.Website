extends ../shared/admin-layout.pug
block head

block content
  div(class="container") 
    br
    h4 #{user.id ? "Edit User" : "Add User"}
    br
    form(method="post")
      div(class="row")
        div(class="input-field col s10")
          input(name="username" type="text" value=user.username)
          label Username
        div(class="input-field col s2")
          label
            input(id="admin" name="isAdmin" class="filled-in" type="checkbox" checked=user.isAdmin)
            span Is Admin
      div(class="section")
        h5 Guests
        each guest, i in user.guests
          div(class="row")
            div(class="input-field col s3")
              input(name="firstName[" + i + "]" type="text" value=guest.firstName)
              label First Name
            div(class="row input-field col s3")
              input(name="lastName[" + i + "]" type="text" value=guest.lastName)
              label Last Name
            div(class="row input-field col s4")
              input(name="dietaryRequirements[" + i + "]" type="text" value=guest.dietaryRequirements)
              label Dietary Requirements
            div(class="row input-field col s2")
              label
                input(id="admin" name="isAttending[" + i + "]" class="filled-in" type="checkbox" checked=user.isAttending)
                span Is Attending

        if user.guests.length <= 0
          p This user has no guests

      div(class="row")
        div(class="col s6 left-align no-padding")
          a(href="javascript:void(0)" class="waves-effect waves-light btn white dark-text") Add Guest
        div(class="col s6 right-align no-padding")
          button(type="submit" class="waves-effect waves-light btn light-blue accent-3") Save
          a(href="/admin/users" class="waves-effect waves-light btn white dark-text small-margin-left") Cancel

